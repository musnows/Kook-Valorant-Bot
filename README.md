


<h1 align="center">Valorant-kaiheila-bot</h1>


<h4 align="center">è¿™æ˜¯ä¸€ä¸ªKOOKçš„ã€ŒValorantã€å°æœºå™¨äºº</h4>



<div align="center">

[English](./README_EN.md) | ç®€ä½“ä¸­æ–‡

![python](https://img.shields.io/badge/Python-3.8%2B-green) ![commit](https://img.shields.io/github/last-commit/Aewait/Valorant-kaiheila-bot) ![release](https://img.shields.io/github/v/release/Aewait/Valorant-kaiheila-bot)
[![khl server](https://www.kaiheila.cn/api/v3/badge/guild?guild_id=3566823018281801&style=3)](https://kaihei.co/oqz7Xg) ![githubstars](https://img.shields.io/github/stars/Aewait/Valorant-kaiheila-bot?style=social)
</div>

## åŠŸèƒ½
å½“å‰æœºå™¨äººå¤„äºæææå…¶æ—©æœŸç‰ˆæœ¬ï¼Œç›®å‰åªæ”¯æŒå›å¤valorantæ¸¸æˆé”™è¯¯ç ï¼Œå’Œä¸€äº›ç®€å•åŠŸèƒ½

ä¸‹é¢æ˜¯ç›®å‰æ”¯æŒçš„åŠŸèƒ½åˆ—è¡¨ï¼š

* `/hello`ï¼šå›å¤ worldï¼
* `/Ahri`ï¼šå›å¤ä½¿ç”¨å¸®åŠ©ï¼ˆå› `/help`å’Œå…¶ä»–æœºå™¨äººå†²çªï¼Œæ•…ç”¨é˜¿ç‹¸çš„è‹±æ–‡å`Ahri`æ›¿ä»£ï¼‰
* `/val é”™è¯¯ç `ï¼šå›å¤è§£å†³æ–¹æ³•
* `/saveid`ï¼šä¿å­˜ï¼ˆä¿®æ”¹ï¼‰ç”¨æˆ·çš„æ¸¸æˆid
* `/myid`ï¼šæ˜¾ç¤ºç”¨æˆ·çš„æ¸¸æˆid
* `/roll 1 100`ï¼šæ·è‰²å­1-100ï¼ŒèŒƒå›´å¯è‡ªè¡Œè°ƒèŠ‚
* `/countdown ç§’æ•°`ï¼š å€’è®¡æ—¶ï¼Œé»˜è®¤60ç§’

ä½ å¯ä»¥åœ¨[screenshot](./screenshot)æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°å¯¹åº”çš„æˆªå›¾ç¤ºä¾‹

----

## å¦‚ä½•ä½¿ç”¨ï¼Ÿ

ä¿è¯ä½ çš„Linuxä¸­`Python`ç‰ˆæœ¬é«˜äº`3.8`ï¼Œæ‰§è¡Œä¸‹é¢çš„å®‰è£…åº“å‘½ä»¤

~~~
pip install khl.py
æˆ–è€… pip3 install khl.py
~~~

> Qï¼šä¸ºä½•`khl.py`åªéœ€è¦3.6.8ä»¥ä¸Šç‰ˆæœ¬ï¼Œè€Œæœ¬ä»“åº“éœ€è¦3.8+ï¼Ÿ
>
> Aï¼šå› ä¸ºvalorantçš„ç¬¬ä¸‰æ–¹`PythonApi`éœ€è¦3.8+ç‰ˆæœ¬

å»ºè®®æ ¹æ®[khl.py](https://github.com/TWT233/khl.py)çš„`example`æ•™ç¨‹ï¼Œå­¦ä¹ å¼€é»‘å•¦æœºå™¨äººçš„åŸºæœ¬æ­å»ºï¼ˆå¾ˆç®€å•çš„ï¼Œç›¸ä¿¡æˆ‘ï¼‰

å¦‚æœä½ æƒ³ç›´æ¥ä½¿ç”¨æœ¬æœºå™¨äººï¼Œåˆ™ç»§ç»­å¾€ä¸‹çœ‹ğŸ‘‡

### 1.å…‹éš†æœ¬ä»“åº“

å‡†å¤‡å¥½Linuxä¸‹çš„gitï¼Œå…‹éš†æœ¬ä»“åº“

~~~
git clone https://github.com/Aewait/Valorant-kaiheila-bot.git
~~~

### 2.é…ç½®configæ–‡ä»¶

å…‰å…‰å…‹éš†è¿˜ä¸å¤Ÿï¼Œä½ éœ€è¦åœ¨[å¼€é»‘å•¦å¼€å‘è€…é¡µé¢](https://developer.kaiheila.cn/doc/intro)ç”³è¯·ä¸€ä¸ªæœºå™¨äººå†…æµ‹èµ„æ ¼ï¼Œå¹¶è·å¾—ä½ çš„`token`

åœ¨`code`è·¯å¾„ä¸‹åˆ›å»º`config`æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»º`config.json`ï¼Œå°†ä½ çš„`token`å†™å…¥å…¶ä¸­

~~~
{
  "token": "ä½ çš„token",
  "verify_token": "",
  "encrypt_key": ""
}
~~~

å› ä¸ºè¯¥æ–‡ä»¶å·²ç»è¢«æˆ‘å†™å…¥äº†`.gitignore`ï¼Œæ‰€ä»¥åœ¨æœ¬ä»“åº“ä¸­ä½ æ˜¯çœ‹ä¸åˆ°è¯¥æ–‡ä»¶å¤¹çš„ã€‚è¿™ä¹Ÿä¿è¯å½“æˆ‘ä»¬æŠŠä»£ç æ‰˜ç®¡åˆ°gitee/github/gitlabç­‰å¹³å°ä¸Šæ—¶ï¼Œè‡ªå·±çš„`token`ä¸ä¼šæ³„æ¼

### 3.è®©æœºå™¨äººè·‘èµ·æ¥ï¼

* ç›´æ¥è¿è¡Œæœºå™¨äºº

å½“ä½ å®Œæˆä¸Šé¢ä¸¤æ­¥åï¼Œå³å¯`cd`è¿›å…¥`code`ç›®å½•ï¼Œæ‰§è¡Œè¿è¡Œå‘½ä»¤

~~~
python3 main.py
~~~

ä½†æ˜¯è¿™æ ·ï¼Œä½ ä¼šå‘ç°ç¨‹åºåœ¨shellä¸­æŒ‚èµ·ï¼Œä¸”å…³é—­ç»ˆç«¯åæœºå™¨äººä¼šåœæ­¢è¿è¡Œ

* è®©æœºå™¨äººåå°è¿è¡Œ

ä¸‹é¢è¿™ä¸ªä»£ç çš„åŠŸèƒ½æ˜¯è®©æœºå™¨äººåœ¨Linuxåå°è¿è¡Œï¼Œå¹¶å°†è¾“å‡ºå†…å®¹å†™å…¥`code/log`è·¯å¾„ä¸‹çš„`bot.log`æ–‡ä»¶ã€‚ä¸ºäº†ä¸è®©æœºå™¨äººçš„logä¹Ÿè¢«ä»–äººçœ‹åˆ°ï¼Œæˆ‘ä¹Ÿå°†logç±»å‹æ–‡ä»¶å†™å…¥äº†`.gitignore`
```
nohup python3 -u main.py>./log/bot.log 2>&1&
```
æ‰§è¡Œåï¼ŒLinuxä¼šç»™ä½ è¿”å›ä¸€ä¸ªè¿›ç¨‹ç¼–å·

* æ‰¾åˆ°åå°è¿è¡Œçš„æœºå™¨äººå¹¶è®©å…¶ä¸‹å²—

æˆ‘ä»¬å¯ä»¥é€šè¿‡`ps -e`æŸ¥çœ‹å½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼Œä½†è¿™æ ·çš„ç¼ºç‚¹æ˜¯ï¼Œå½“ä½ å…³é—­shellåï¼Œä¸‹ä¸€æ¬¡å†æ‰“å¼€ï¼Œå°±ä¼šå‘ç°ä¹‹å‰çš„è¿›ç¨‹è²Œä¼¼ä¸è§äº†ã€‚

è¿™æ—¶å€™å°±å¯ä»¥ç”¨ä¸‹é¢è¿™ä¸ªè¯­å¥æ¥**å…·ä½“å®šä½**ä¹‹å‰å·²ç»åœ¨è¿è¡Œçš„åå°ç¨‹åº

~~~
ps -aux|grep main.py|grep -v grep 
~~~

å½“ä½ æƒ³è®©æœºå™¨äººä¸‹å²—çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸ªæŒ‡ä»¤

```
kill -9 è¿›ç¨‹å·
```

æ³¨æ„ï¼šå¦‚æœä½ éœ€è¦ä¿®æ”¹ä»£ç å¹¶æµ‹è¯•æ–°åŠŸèƒ½ï¼Œè¯·ä¸€å®šè¦å…ˆç»ˆæ­¢å…ˆå‰åœ¨åå°è¿è¡Œçš„ç¨‹åºã€‚å¦åˆ™ä½ ä¿®æ”¹åçš„ä»£ç ï¼Œå³ä½¿ä½¿ç”¨`python3 main.py`è¿è¡Œï¼Œå…¶åŠŸèƒ½ä¹Ÿæ˜¯æ— æ³•ç”Ÿæ•ˆçš„

### 4.ç­‰å¾…è¡¥å……â€¦â€¦

----

## TODO

ä¸‹é¢æ˜¯ä¸€äº›æœªæ¥çš„è®¡åˆ’

- [x] å¢åŠ ä¿å­˜ç”¨æˆ·æ¸¸æˆidçš„åŠŸèƒ½
- [ ] å­¦ä¹ python
- [ ] å­¦ä¹ æ¥å…¥å®˜æ–¹çš„`valorant api`åº“
- [ ] å®ç°ç©å®¶å•†åº—åˆ·æªçš„æŸ¥è¯¢
- [ ] å®ç°å½“å•†åº—åˆ·æ–°æŸä¸€æŠŠæªçš„æ—¶å€™æé†’ç©å®¶
- [ ] æŸ¥çœ‹ç©å®¶çš„å¤œå¸‚

---

## ä¾èµ–

ç”±äºæœ¬äººå‹æ ¹æ²¡æœ‰å­¦è¿‡pythonï¼Œæ‰€ä»¥æœ¬ä»“åº“çš„å¾ˆå¤šä»£ç éƒ½æ˜¯æ ¹æ®ä»–äººæ•™ç¨‹ä¿®æ”¹åä½¿ç”¨çš„
* åŸºæœ¬ä»£ç å‚è€ƒ[khl.py](https://github.com/TWT233/khl.py)æä¾›çš„apiåº“ä»¥åŠä½¿ç”¨æ•™ç¨‹
* æ—©æœŸä½¿ç”¨äº†`https://replit.com/`å’Œ`https://uptimerobot.com/`æä¾›çš„æœåŠ¡ï¼Œæ— éœ€ä½¿ç”¨**äº‘æœåŠ¡å™¨**ä¹Ÿå¯éƒ¨ç½²æœºå™¨äººã€‚è¿™ä¸¤ä¸ªç½‘ç«™çš„ä½¿ç”¨æ•™ç¨‹è§[Bç«™è§†é¢‘](https://www.bilibili.com/video/BV12U4y1g7JY?spm_id_from=333.1007.top_right_bar_window_history.content.click)ï¼Œä»£ç å¯ä»¥æŸ¥çœ‹`code/EarlyTest`é‡Œé¢çš„å†…å®¹ï¼ˆæ³¨æ„ï¼Œéƒ¨ç½²åˆ°äº‘æœåŠ¡å™¨çš„æ–¹å¼å’Œè¿™ä¸¤ä¸ªç½‘ç«™æ˜¯ä¸ä¸€æ ·çš„ï¼‰


